{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ZoomBar.vue?be19","webpack:///./src/App.vue?8d45","webpack:///./src/components/Canvas.vue?db62","webpack:///./src/components/AddShapeBar.vue?3efc","webpack:///./src/App.vue?912b","webpack:///./src/components/Canvas.vue?74bb","webpack:///./src/components/Canvas.vue?9236","webpack:///./src/components/Canvas.vue?dd24","webpack:///./src/components/Canvas.vue","webpack:///./src/components/BottomBar.vue?2c83","webpack:///./src/components/BottomBar.vue?c5e9","webpack:///./src/components/BottomBar.vue?56ac","webpack:///./src/components/BottomBar.vue","webpack:///./src/components/ZoomBar.vue?1dac","webpack:///./src/components/ZoomBar.vue?8be4","webpack:///./src/components/ZoomBar.vue?825a","webpack:///./src/components/ZoomBar.vue","webpack:///./src/components/PreviewAndExportDialog.vue?f5bd","webpack:///./src/components/PreviewAndExportDialog.vue?a3b7","webpack:///./src/components/PreviewAndExportDialog.vue?3603","webpack:///./src/components/PreviewAndExportDialog.vue","webpack:///./src/components/DocumentSettingDialog.vue?6f45","webpack:///./src/components/DocumentSettingDialog.vue?a7d5","webpack:///./src/components/DocumentSettingDialog.vue?a6d9","webpack:///./src/components/DocumentSettingDialog.vue","webpack:///./src/components/AddShapeBar.vue?e1ff","webpack:///./src/components/AddShapeBar.vue?b1cc","webpack:///./src/components/AddShapeBar.vue?90dd","webpack:///./src/components/AddShapeBar.vue","webpack:///./src/App.vue?5dd0","webpack:///./src/App.vue?aea5","webpack:///./src/App.vue","webpack:///./src/store/CanvasStore.ts","webpack:///./src/store/FontFamilyStore.ts","webpack:///./src/store/UiStore.ts","webpack:///./src/store/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","$event","isSettingsDialogVisible","onPreviewAndUpload","directives","rawName","expression","ref","isPreviewAndExportDialogVisible","isExportingImages","previewImages","staticRenderFns","style","$store","canvas","stageConfig","handleStageMouseDown","backgroundRectConfig","_l","orderedShapes","shape","id","getImageConfig","onDragMove","onTransformImage","_e","getTextConfig","onDbClickText","onTransformText","numberOfSlides","index","getLineConfig","selectedShapeName","addEventListener","onGlobalKeyPress","removeEventListener","event","currentTarget","shapeId","updateX","x","updateY","y","updateScaleX","scaleX","updateScaleY","scaleY","updateRotation","rotation","textNode","setAttrs","width","updateWidth","distance","shiftKey","code","selectedShape","removeShapeById","setSelectedShapeId","updateTransformer","points","rectangleLength","rectangleHeight","stroke","strokeWidth","config","height","computedHeight","e","ui","isFormatTextDialogVisible","target","getStage","clickedOnTransformer","getParent","className","transformerNode","$refs","transformer","stage","selectedNode","findOne","getNode","attachTo","Text","enabledAnchors","boundBoxFunc","oldBox","newBox","Math","max","detach","layer","getLayer","batchDraw","scaleBefore","currentScale","selectedShapeBefore","selectedShapeNameBefore","helperLinesVisible","Promise","resolve","reject","nextTick","tasks","exportImage","all","then","images","toImage","mimeType","quality","callback","img","component","scopedSlots","_u","fn","_g","onPositionCustom","onPositionLeft","onPositionRight","onPositionTop","onPositionBottom","onPositionCenter","onMoveToTop","onMoveUp","onMoveDown","onMoveToBottom","onRotateCustom","onRotateLeft","onRotateRight","onFormatText","model","$$v","$set","text","onTextChange","fontSize","onFontSizeChange","fontFamily","availableFonts","onFontFamilyChange","isPositionDialogVisible","onPositionXChange","onPositionYChange","computedWidth","onWidthChange","onHeightChange","isRoationDialogVisible","onRotationChange","inputValue","parseInt","scaleValue","preventDefault","moveShapeToBottom","moveShapeToTop","moveShapeUp","moveShapeDown","positionShapeInCenter","positionShapeToLeft","positionShapeToRight","positionShapeToTop","positionShapeToBottom","rotateLeft","rotateRight","updateFontSize","loadFont","updateFontFamily","updateText","components","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VIcon","VList","VListItem","VListItemContent","VListItemGroup","VListItemIcon","VListItemTitle","VMenu","VSelect","VSpacer","VTextField","VTextarea","VToolbar","onZoomIn","onZoomCenter","onZoomOut","zoomIn","zoomOut","zoomCenter","VBtnToggle","visible","visibleImageIndex","item","src","aspectRatio","onDownloadImage","hasPrevImage","onPrevImage","hasNextImage","onNextImage","onDownloadAllImages","onCloseDiaglog","$emit","downloadImage","image","link","document","createElement","setAttribute","display","body","appendChild","click","removeChild","default","VDivider","VImg","VProgressCircular","VWindow","VWindowItem","ratioItems","proxy","isActivated","onAddImage","onAddText","staticStyle","onFileUpload","fileinput","addShape","order","draggable","files","file","reader","FileReader","readAsDataURL","onload","onLoadEvent","Image","VSpeedDial","onResize","el","workarea","containerWidth","offsetWidth","containerHeight","offsetHeight","canvasRef","exportAllImages","Canvas","BottomBar","ZoomBar","PreviewAndExportDialog","DocumentSettingDialog","AddShapeBar","VApp","VAppBar","VContainer","VContent","VToolbarTitle","Resize","shapes","scaleFactor","centerScale","round","recalc","topLeft","current","rotatePoint","getAngle","rotated","dx","dy","rotateByAngle","currentOrder","keys","forEach","itShapeId","slide","getCurrentSlideOfShape","cx","cy","angle","currentRotation","min","floor","point","rad","rcos","cos","rsin","sin","values","sort","a","b","stageWidth","stageHeight","scale","fill","overflow","padding","CanvasStore","instance","bound","loadedFonts","includes","load","active","google","families","FontFamilyStore","UiStore","getInstance","Store","use","icons","iconfont","theme","themes","light","primary","accent","dark","productionTip","vuetify","render","h","$mount"],"mappings":"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","file":"js/app.c2df6e5a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomBar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomBar.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddShapeBar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddShapeBar.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"app\"},[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_c('span',[_vm._v(\"Instagram Collage\")])]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.isSettingsDialogVisible = true}}},[_c('v-icon',[_vm._v(\"mdi-settings\")])],1),_c('v-btn',{attrs:{\"color\":\"accent\"},on:{\"click\":_vm.onPreviewAndUpload}},[_c('v-icon',[_vm._v(\"mdi-export\")]),_c('span',[_vm._v(\"Preview & Export\")])],1)],1),_c('v-content',[_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],ref:\"workarea\",staticClass:\"workarea\"},[_c('Canvas',{ref:\"canvas\"})],1)])],1),_c('BottomBar'),_c('ZoomBar'),_c('AddShapeBar'),_c('DocumentSettingDialog',{attrs:{\"visible\":_vm.isSettingsDialogVisible},on:{\"close\":function($event){_vm.isSettingsDialogVisible = false}}}),_c('PreviewAndExportDialog',{attrs:{\"visible\":_vm.isPreviewAndExportDialogVisible,\"isExportingImages\":_vm.isExportingImages,\"images\":_vm.previewImages},on:{\"close\":function($event){_vm.isPreviewAndExportDialogVisible = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"canvasWrapper\",staticClass:\"canvas-wrapper\",style:(_vm.$store.canvas.wrapperStyles)},[_c('div',{staticClass:\"canvas\"},[_c('v-stage',{ref:\"stage\",attrs:{\"config\":_vm.$store.canvas.stageConfig},on:{\"mousedown\":_vm.handleStageMouseDown}},[_c('v-layer',[_c('v-rect',{attrs:{\"config\":_vm.$store.canvas.backgroundRectConfig}}),_vm._l((_vm.$store.canvas.orderedShapes.slice()),function(shape){return [(shape.image)?_c('v-image',{key:shape.id,attrs:{\"config\":_vm.getImageConfig(shape)},on:{\"dragmove\":_vm.onDragMove,\"transform\":_vm.onTransformImage}}):_vm._e(),(shape.text)?_c('v-text',{key:shape.id,attrs:{\"config\":_vm.getTextConfig(shape)},on:{\"dragmove\":_vm.onDragMove,\"dblclick\":_vm.onDbClickText,\"transform\":_vm.onTransformText}}):_vm._e()]}),_c('v-transformer',{ref:\"transformer\"})],2),(_vm.$store.canvas.helperLinesVisible)?_c('v-layer',_vm._l(((_vm.$store.canvas.numberOfSlides - 1)),function(index){return _c('v-line',{key:index,attrs:{\"config\":_vm.getLineConfig(index)}})}),1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\nimport { toJS } from 'mobx';\nimport Konva from 'konva';\n\n@Observer\n@Component\nexport default class Canvas extends Vue {\n  private selectedShapeName: string = '';\n\n  public mounted() {\n    window.addEventListener('keydown', this.onGlobalKeyPress);\n  }\n\n  public destroyed() {\n    window.removeEventListener('keydown', this.onGlobalKeyPress);\n  }\n\n  public onDragMove(event: Konva.KonvaEventObject<MouseEvent>) {\n    const currentTarget = event.currentTarget;\n    const shapeId = currentTarget.attrs.id;\n    this.$store.canvas.updateX(shapeId, currentTarget.attrs.x);\n    this.$store.canvas.updateY(shapeId, currentTarget.attrs.y);\n  }\n\n  public onTransformImage(event: Konva.KonvaEventObject<Event>) {\n    const shapeId = event.currentTarget.attrs.id;\n    this.$store.canvas.updateX(shapeId, event.currentTarget.attrs.x);\n    this.$store.canvas.updateY(shapeId, event.currentTarget.attrs.y);\n    this.$store.canvas.updateScaleX(shapeId, event.currentTarget.attrs.scaleX);\n    this.$store.canvas.updateScaleY(shapeId, event.currentTarget.attrs.scaleY);\n    this.$store.canvas.updateRotation(\n      shapeId,\n      event.currentTarget.attrs.rotation,\n      false,\n    );\n  }\n\n  public onTransformText(event: Konva.KonvaEventObject<Event>) {\n    const shapeId = event.currentTarget.attrs.id;\n    const textNode = event.currentTarget;\n    textNode.setAttrs({\n      width: textNode.width() * textNode.scaleX(),\n      scaleX: 1,\n    });\n    this.$store.canvas.updateWidth(shapeId, textNode.width());\n    this.$store.canvas.updateScaleX(shapeId, 1);\n    this.$store.canvas.updateRotation(\n      shapeId,\n      event.currentTarget.attrs.rotation,\n      false,\n    );\n  }\n\n  public onGlobalKeyPress(event: KeyboardEvent) {\n    const distance = (event.shiftKey) ? 10 : 1;\n\n    switch (event.code) {\n      case 'Delete':\n        if (this.$store.canvas.selectedShape) {\n          this.$store.canvas.removeShapeById(this.$store.canvas.selectedShape.id);\n          this.$store.canvas.setSelectedShapeId(null);\n          this.selectedShapeName = '';\n          this.updateTransformer();\n        }\n        break;\n\n      case 'ArrowRight':\n        if (this.$store.canvas.selectedShape) {\n          this.$store.canvas.updateX(\n            this.$store.canvas.selectedShape.id,\n            this.$store.canvas.selectedShape.x + distance,\n          );\n        }\n        break;\n\n      case 'ArrowLeft':\n        if (this.$store.canvas.selectedShape) {\n          this.$store.canvas.updateX(\n            this.$store.canvas.selectedShape.id,\n            this.$store.canvas.selectedShape.x - distance,\n          );\n        }\n        break;\n\n      case 'ArrowUp':\n        if (this.$store.canvas.selectedShape) {\n          this.$store.canvas.updateY(\n            this.$store.canvas.selectedShape.id,\n            this.$store.canvas.selectedShape.y - distance,\n          );\n        }\n        break;\n\n      case 'ArrowDown':\n        if (this.$store.canvas.selectedShape) {\n          this.$store.canvas.updateY(\n            this.$store.canvas.selectedShape.id,\n            this.$store.canvas.selectedShape.y + distance,\n          );\n        }\n        break;\n    }\n  }\n\n  public getLineConfig(index: number) {\n    return {\n      points: [\n        this.$store.canvas.rectangleLength * index,\n        0,\n        this.$store.canvas.rectangleLength * index,\n        this.$store.canvas.rectangleHeight,\n      ],\n      stroke: 'black',\n      strokeWidth: 4,\n    };\n  }\n\n  public getImageConfig(shape: any) {\n    return toJS(shape);\n  }\n\n  public getTextConfig(shape: any) {\n    const config = toJS(shape);\n    delete config.height;\n    delete config.computedHeight;\n    delete config.scaleY;\n    return config;\n  }\n\n  public onDbClickText(e: Konva.KonvaEventObject<MouseEvent>) {\n    this.$store.ui.isFormatTextDialogVisible = true;\n  }\n\n  public handleStageMouseDown(e: Konva.KonvaEventObject<MouseEvent>) {\n    // clicked on stage - cler selection\n    if (e.target === e.target.getStage()) {\n      this.selectedShapeName = '';\n      this.$store.canvas.setSelectedShapeId(null);\n      this.updateTransformer();\n      return;\n    }\n\n    // clicked on transformer - do nothing\n    const clickedOnTransformer =\n      e.target.getParent().className === 'Transformer';\n    if (clickedOnTransformer) {\n      return;\n    }\n    // find clicked rect by its name\n    const id = e.target.id();\n    this.$store.canvas.setSelectedShapeId(id);\n\n    const name = e.target.name();\n    /*const rect = this.images.find(r => r.name === name);\n        if (rect) {\n            this.selectedShapeName = name;\n        } else {\n            this.selectedShapeName = '';\n        }*/\n    this.selectedShapeName = name;\n    this.updateTransformer();\n  }\n\n  public updateTransformer() {\n    // here we need to manually attach or detach Transformer node\n    // @ts-ignore\n    const transformerNode: Konva.Transformer = this.$refs.transformer.getStage();\n    const stage = transformerNode.getStage();\n    const { selectedShapeName } = this;\n\n    if (stage) {\n      const selectedNode = stage.findOne('.' + selectedShapeName);\n      // do nothing if selected node is already attached\n      if (selectedNode === transformerNode.getNode()) {\n        return;\n      }\n\n      if (selectedNode) {\n        // attach to another node\n        transformerNode.attachTo(selectedNode);\n        if (selectedNode instanceof Konva.Text) {\n          transformerNode.enabledAnchors(['middle-left', 'middle-right']);\n          transformerNode.boundBoxFunc((oldBox, newBox) => {\n            newBox.width = Math.max(60, newBox.width);\n            return newBox;\n          });\n        } else {\n          transformerNode.enabledAnchors([\n            'top-left',\n            'top-center',\n            'top-right',\n            'middle-right',\n            'middle-left',\n            'bottom-left',\n            'bottom-center',\n            'bottom-right',\n          ]);\n          transformerNode.boundBoxFunc((oldBox, newBox) => {\n            return newBox;\n          });\n        }\n      } else {\n        // remove transformer\n        transformerNode.detach();\n      }\n\n      const layer = transformerNode.getLayer();\n      if (layer) {\n        layer.batchDraw();\n      }\n    }\n  }\n\n  public exportAllImages() {\n    const scaleBefore = this.$store.canvas.currentScale;\n    const selectedShapeBefore = this.$store.canvas.selectedShape;\n    const selectedShapeNameBefore = this.selectedShapeName;\n    this.$store.canvas.currentScale = 1;\n    this.$store.canvas.helperLinesVisible = false;\n    this.$store.canvas.selectedShape = null;\n    this.selectedShapeName = '';\n    this.updateTransformer();\n\n    return new Promise<HTMLImageElement[]>((resolve, reject) => {\n      Vue.nextTick(() => {\n        const tasks: Array<Promise<any>> = [];\n        for (let i = 0; i < this.$store.canvas.numberOfSlides; i++) {\n          tasks.push(this.exportImage(i));\n        }\n\n        return Promise.all(tasks).then((images) => {\n          this.$store.canvas.currentScale = scaleBefore;\n          this.$store.canvas.helperLinesVisible = true;\n          this.$store.canvas.selectedShape = selectedShapeBefore;\n          this.selectedShapeName = selectedShapeNameBefore;\n          this.updateTransformer();\n          resolve(images);\n        });\n      });\n    });\n  }\n\n  private exportImage(i: number) {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n      // @ts-ignore\n      const stage: Konva.Stage = this.$refs.stage.getStage();\n      const x = i * this.$store.canvas.rectangleLength;\n      const y = 0;\n      const width = this.$store.canvas.rectangleLength;\n      const height = this.$store.canvas.rectangleHeight;\n\n      stage.toImage({\n        x,\n        y,\n        width,\n        height,\n        mimeType: 'image/jpeg',\n        quality: 0.95,\n        callback: (img: HTMLImageElement) => {\n          resolve(img);\n        },\n      });\n    });\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=185f98b5&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Canvas.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"absolute\":\"\",\"bottom\":\"\",\"color\":\"primary\",\"dark\":\"\",\"width\":\"100%\"}},[_c('v-spacer'),(_vm.$store.canvas.selectedShape)?[_c('v-menu',{attrs:{\"top\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-arrow-all\")])],1)]}}],null,false,1192717202)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":_vm.onPositionCustom}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-settings\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Custom\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onPositionLeft}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-left\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Position Left\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onPositionRight}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-right\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Position Right\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onPositionTop}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-up\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Position Top\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onPositionBottom}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-down\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Position Bottom\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onPositionCenter}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-all\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Position Center\")])],1)],1)],1)],1)],1),_c('v-menu',{attrs:{\"top\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-layers\")])],1)]}}],null,false,4022216439)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":_vm.onMoveToTop}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-up\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Layer Top\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onMoveUp}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-up\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Layer Up\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onMoveDown}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-down\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Layer Down\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onMoveToBottom}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-arrow-collapse-down\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Layer Bottom\")])],1)],1)],1)],1)],1),_c('v-menu',{attrs:{\"top\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-rotate-right\")])],1)]}}],null,false,2910783635)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":_vm.onRotateCustom}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-settings\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Custom\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onRotateLeft}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-rotate-left\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Rotate Left\")])],1)],1),_c('v-list-item',{on:{\"click\":_vm.onRotateRight}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-rotate-right\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Rotate Right\")])],1)],1)],1)],1)],1),(_vm.$store.canvas.selectedShape.text)?_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{on:{\"click\":_vm.onFormatText}},[_vm._v(\"mdi-format-text\")])],1):_vm._e()]:_vm._e(),_c('v-spacer')],2),_c('v-dialog',{attrs:{\"width\":500},model:{value:(_vm.$store.ui.isFormatTextDialogVisible),callback:function ($$v) {_vm.$set(_vm.$store.ui, \"isFormatTextDialogVisible\", $$v)},expression:\"$store.ui.isFormatTextDialogVisible\"}},[(_vm.$store.canvas.selectedShape)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Font Setting\")]),_c('v-card-text',[_c('v-textarea',{attrs:{\"filled\":\"\",\"label\":\"Text\",\"value\":_vm.$store.canvas.selectedShape.text},on:{\"input\":_vm.onTextChange}}),_c('v-text-field',{attrs:{\"label\":\"Font size\",\"value\":_vm.$store.canvas.selectedShape.fontSize,\"type\":\"number\"},on:{\"input\":_vm.onFontSizeChange}}),_c('v-select',{attrs:{\"items\":_vm.$store.fontFamily.availableFonts,\"value\":_vm.$store.canvas.selectedShape.fontFamily,\"label\":\"Font Family\"},on:{\"input\":_vm.onFontFamilyChange}})],1),_c('v-card-actions',[_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){_vm.$store.ui.isFormatTextDialogVisible = false}}},[_vm._v(\"Ok\")])],1)],1):_vm._e()],1),_c('v-dialog',{attrs:{\"width\":500},model:{value:(_vm.isPositionDialogVisible),callback:function ($$v) {_vm.isPositionDialogVisible=$$v},expression:\"isPositionDialogVisible\"}},[(_vm.$store.canvas.selectedShape)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Position\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Position X\",\"value\":_vm.$store.canvas.selectedShape.x,\"type\":\"number\"},on:{\"input\":_vm.onPositionXChange}}),_c('v-text-field',{attrs:{\"label\":\"Position Y\",\"value\":_vm.$store.canvas.selectedShape.y,\"type\":\"number\"},on:{\"input\":_vm.onPositionYChange}}),_c('v-text-field',{attrs:{\"label\":\"Witdh\",\"value\":_vm.$store.canvas.selectedShape.computedWidth,\"min\":1,\"type\":\"number\"},on:{\"input\":_vm.onWidthChange}}),_c('v-text-field',{attrs:{\"label\":\"Height\",\"value\":_vm.$store.canvas.selectedShape.computedHeight,\"min\":1,\"type\":\"number\"},on:{\"input\":_vm.onHeightChange}})],1),_c('v-card-actions',[_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){_vm.isPositionDialogVisible = false}}},[_vm._v(\"Ok\")])],1)],1):_vm._e()],1),_c('v-dialog',{attrs:{\"width\":500},model:{value:(_vm.isRoationDialogVisible),callback:function ($$v) {_vm.isRoationDialogVisible=$$v},expression:\"isRoationDialogVisible\"}},[(_vm.$store.canvas.selectedShape)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Rotation\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Rotation\",\"value\":_vm.$store.canvas.selectedShape.rotation,\"min\":-180,\"max\":180,\"type\":\"number\"},on:{\"input\":_vm.onRotationChange}})],1),_c('v-card-actions',[_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){_vm.isRoationDialogVisible = false}}},[_vm._v(\"Ok\")])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\n\n@Observer\n@Component({\n  name: 'BottomBar',\n  components: {},\n})\nexport default class BottomBar extends Vue {\n  private isPositionDialogVisible: boolean = false;\n  private isRoationDialogVisible: boolean = false;\n\n  public onPositionXChange(inputValue: string) {\n    const value = parseInt(inputValue, 10);\n    if (value && this.$store.canvas.selectedShape) {\n      this.$store.canvas.updateX(this.$store.canvas.selectedShape.id, value);\n    }\n  }\n\n  public onPositionYChange(inputValue: string) {\n    const value = parseInt(inputValue, 10);\n    if (value && this.$store.canvas.selectedShape) {\n      this.$store.canvas.updateY(this.$store.canvas.selectedShape.id, value);\n    }\n  }\n\n  public onWidthChange(inputValue: string) {\n    const value = parseInt(inputValue, 10);\n    if (value && this.$store.canvas.selectedShape) {\n      const scaleValue = value / this.$store.canvas.selectedShape.width;\n      this.$store.canvas.updateScaleX(\n        this.$store.canvas.selectedShape.id,\n        scaleValue,\n      );\n    }\n  }\n\n  public onHeightChange(inputValue: string) {\n    const value = parseInt(inputValue, 10);\n    if (value && this.$store.canvas.selectedShape) {\n      const scaleValue = value / this.$store.canvas.selectedShape.height;\n      this.$store.canvas.updateScaleY(\n        this.$store.canvas.selectedShape.id,\n        scaleValue,\n      );\n    }\n  }\n\n  public onMoveToBottom(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.moveShapeToBottom(this.$store.canvas.selectedShape.id);\n    }\n  }\n\n  public onMoveToTop(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.moveShapeToTop(this.$store.canvas.selectedShape.id);\n    }\n  }\n\n  public onMoveUp(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.moveShapeUp(this.$store.canvas.selectedShape.id);\n    }\n  }\n\n  public onMoveDown(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.moveShapeDown(this.$store.canvas.selectedShape.id);\n    }\n  }\n\n  public onPositionCenter(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.positionShapeInCenter(\n        this.$store.canvas.selectedShape.id,\n      );\n    }\n  }\n\n  public onPositionLeft(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.positionShapeToLeft(\n        this.$store.canvas.selectedShape.id,\n      );\n    }\n  }\n\n  public onPositionRight(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.positionShapeToRight(\n        this.$store.canvas.selectedShape.id,\n      );\n    }\n  }\n\n  public onPositionTop(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.positionShapeToTop(\n        this.$store.canvas.selectedShape.id,\n      );\n    }\n  }\n\n  public onPositionBottom(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.positionShapeToBottom(\n        this.$store.canvas.selectedShape.id,\n      );\n    }\n  }\n\n  public onRotationChange(inputValue: string) {\n    const value = parseInt(inputValue, 10);\n    if (value && this.$store.canvas.selectedShape) {\n      this.$store.canvas.updateRotation(\n        this.$store.canvas.selectedShape.id,\n        value,\n        true,\n      );\n    }\n  }\n\n  public onRotateLeft(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.rotateLeft(this.$store.canvas.selectedShape.id, true);\n    }\n  }\n\n  public onRotateRight(event: Event) {\n    event.preventDefault();\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.rotateRight(this.$store.canvas.selectedShape.id, true);\n    }\n  }\n\n  private onPositionCustom(event: Event) {\n    this.isPositionDialogVisible = true;\n  }\n\n  private onRotateCustom(event: Event) {\n    this.isRoationDialogVisible = true;\n  }\n\n  private onFormatText(event: Event) {\n    this.$store.ui.isFormatTextDialogVisible = true;\n  }\n\n  private onFontSizeChange(inputValue: string) {\n    const value = parseInt(inputValue, 10);\n    if (value && this.$store.canvas.selectedShape) {\n      this.$store.canvas.updateFontSize(\n        this.$store.canvas.selectedShape.id,\n        value,\n      );\n    }\n  }\n\n  private onFontFamilyChange(inputValue: string) {\n    if (inputValue && this.$store.canvas.selectedShape) {\n      const id = this.$store.canvas.selectedShape.id;\n      this.$store.fontFamily.loadFont(inputValue).then(() => {\n        this.$store.canvas.updateFontFamily(id, inputValue);\n      });\n    }\n  }\n\n  private onTextChange(inputValue: string) {\n    if (this.$store.canvas.selectedShape) {\n      this.$store.canvas.updateText(\n        this.$store.canvas.selectedShape.id,\n        inputValue,\n      );\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BottomBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BottomBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BottomBar.vue?vue&type=template&id=62ca7d22&\"\nimport script from \"./BottomBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./BottomBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VSelect,VSpacer,VTextField,VTextarea,VToolbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn-toggle',{staticClass:\"zoom-bar\",attrs:{\"rounded\":\"\"}},[_c('v-btn',{on:{\"click\":_vm.onZoomIn}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_c('v-btn',{on:{\"click\":_vm.onZoomCenter}},[_c('v-icon',[_vm._v(\"mdi-image-filter-center-focus\")])],1),_c('v-btn',{on:{\"click\":_vm.onZoomOut}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\n\n@Observer\n@Component({\n  name: 'ZoomBar',\n  components: {},\n})\nexport default class ZoomBar extends Vue {\n  public onZoomIn(event: Event) {\n    event.preventDefault();\n    this.$store.canvas.zoomIn();\n  }\n\n  public onZoomOut(event: Event) {\n    event.preventDefault();\n    this.$store.canvas.zoomOut();\n  }\n\n  public onZoomCenter(event: Event) {\n    event.preventDefault();\n    this.$store.canvas.zoomCenter();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ZoomBar.vue?vue&type=template&id=8ae19414&\"\nimport script from \"./ZoomBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ZoomBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ZoomBar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VBtnToggle,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Preview And Export\")]),(_vm.isExportingImages)?_c('v-progress-circular',{attrs:{\"size\":70,\"width\":7,\"indeterminate\":\"\"}}):_c('v-window',{model:{value:(_vm.visibleImageIndex),callback:function ($$v) {_vm.visibleImageIndex=$$v},expression:\"visibleImageIndex\"}},_vm._l((_vm.images),function(item,i){return _c('v-window-item',{key:i,attrs:{\"value\":i}},[_c('v-img',{attrs:{\"src\":item.src,\"aspect-ratio\":_vm.$store.canvas.aspectRatio,\"contain\":\"\"}})],1)}),1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onDownloadImage}},[_vm._v(\"Download Image\")]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.hasPrevImage},on:{\"click\":_vm.onPrevImage}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.hasNextImage},on:{\"click\":_vm.onNextImage}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onDownloadAllImages}},[_vm._v(\"Download All\")]),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.onCloseDiaglog}},[_vm._v(\"Close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop, Watch } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\n\n@Observer\n@Component\nexport default class PreviewAndExportDialog extends Vue {\n  @Prop({ default: () => [] })\n  public images!: HTMLImageElement[];\n\n  @Prop({ default: false })\n  public isExportingImages!: boolean;\n\n  @Prop({ default: false })\n  public visible!: boolean;\n\n  private visibleImageIndex: number = 0;\n\n  @Watch('visible')\n  public onVisibleChange() {\n    this.visibleImageIndex = 0;\n  }\n\n  get hasNextImage() {\n    return this.visibleImageIndex < this.images.length - 1;\n  }\n\n  get hasPrevImage() {\n    return this.visibleImageIndex > 0;\n  }\n\n  public onNextImage(event: Event) {\n    this.visibleImageIndex++;\n  }\n\n  public onPrevImage(event: Event) {\n    this.visibleImageIndex--;\n  }\n\n  public onCloseDiaglog(event: Event) {\n    this.$emit('close');\n  }\n\n  public onDownloadImage(event: Event) {\n    event.preventDefault();\n    this.downloadImage(this.visibleImageIndex);\n  }\n\n  public onDownloadAllImages(event: Event) {\n    for (let i = 0; i < this.images.length; i++) {\n      this.downloadImage(i);\n    }\n  }\n\n  private downloadImage(i: number) {\n    const image = this.images[i];\n    const link = document.createElement('a');\n    link.setAttribute('download', 'Image-' + i + '.jpg');\n    link.setAttribute('href', image.src);\n    link.setAttribute('target', '_blank');\n    link.style.display = 'none';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewAndExportDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewAndExportDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewAndExportDialog.vue?vue&type=template&id=628a9e08&\"\nimport script from \"./PreviewAndExportDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewAndExportDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VWindow } from 'vuetify/lib/components/VWindow';\nimport { VWindowItem } from 'vuetify/lib/components/VWindow';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDialog,VDivider,VIcon,VImg,VProgressCircular,VWindow,VWindowItem})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":500},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Document Settings\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Slides\",\"min\":1,\"max\":10,\"type\":\"number\"},model:{value:(_vm.$store.canvas.numberOfSlides),callback:function ($$v) {_vm.$set(_vm.$store.canvas, \"numberOfSlides\", $$v)},expression:\"$store.canvas.numberOfSlides\"}}),_c('v-select',{attrs:{\"items\":_vm.ratioItems,\"label\":\"Ratio\"},model:{value:(_vm.$store.canvas.rectangleHeight),callback:function ($$v) {_vm.$set(_vm.$store.canvas, \"rectangleHeight\", $$v)},expression:\"$store.canvas.rectangleHeight\"}})],1),_c('v-card-actions',[_c('div',{staticClass:\"flex-grow-1\"}),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.onCloseDiaglog}},[_vm._v(\"Apply\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop, Watch } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\n\n@Observer\n@Component\nexport default class DocumentSettingDialog extends Vue {\n  @Prop({ default: false })\n  public visible!: boolean;\n\n  private ratioItems = [\n    { value: 1080, text: '1:1' },\n    { value: 1350, text: '4:5' },\n  ];\n\n  public onCloseDiaglog(event: Event) {\n    this.$emit('close');\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentSettingDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentSettingDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DocumentSettingDialog.vue?vue&type=template&id=2ad805fc&\"\nimport script from \"./DocumentSettingDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./DocumentSettingDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VSelect,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-shape-bar\"},[_c('v-speed-dial',{attrs:{\"bottom\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"accent\",\"fab\":\"\"}},[(_vm.isActivated)?_c('v-icon',[_vm._v(\"mdi-close\")]):_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]},proxy:true}]),model:{value:(_vm.isActivated),callback:function ($$v) {_vm.isActivated=$$v},expression:\"isActivated\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.onAddImage}},[_c('v-icon',[_vm._v(\"mdi-image-outline\")])],1),_c('v-btn',{attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":_vm.onAddText}},[_c('v-icon',[_vm._v(\"mdi-format-text\")])],1)],1),_c('input',{ref:\"fileinput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.onFileUpload}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet shapeId = 1;\n\nimport Vue from 'vue';\nimport { Component, Prop, Watch } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\n\n@Observer\n@Component\nexport default class AddShapeBar extends Vue {\n  private isActivated: boolean = false;\n\n  public onAddImage(event: Event) {\n    (this.$refs.fileinput as HTMLElement).click();\n  }\n\n  public onAddText(event: Event) {\n    const id = shapeId++;\n    this.$store.canvas.addShape({\n      x: 100,\n      y: 100,\n      width: 400,\n      fontSize: 50,\n      height: 50,\n      computedWidth: 400,\n      computedHeight: 50,\n      scaleX: 1,\n      scaleY: 1,\n      rotation: 0,\n      order: 0,\n      name: 'text-' + id,\n      draggable: true,\n      id: '' + id,\n      text: 'Some text here',\n      fontFamily: 'Arial',\n    });\n  }\n\n  public onFileUpload(event: Event) {\n    const files = [...((event.target as HTMLInputElement).files || [])];\n\n    for (const file of files) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (onLoadEvent) => {\n        const image: HTMLImageElement = new Image();\n        image.setAttribute('crossOrigin', 'anonymous');\n        image.src = (onLoadEvent.target as FileReader).result as string;\n        image.onload = () => {\n          const id = shapeId++;\n          this.$store.canvas.addShape({\n            x: 100,\n            y: 100,\n            width: image.width,\n            height: image.height,\n            computedWidth: image.width,\n            computedHeight: image.height,\n            scaleX: 1,\n            scaleY: 1,\n            rotation: 0,\n            order: 0,\n            name: 'image-' + id,\n            draggable: true,\n            id: '' + id,\n            image,\n          });\n        };\n      };\n    }\n\n    (this.$refs.fileinput as HTMLInputElement).value = '';\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddShapeBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddShapeBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddShapeBar.vue?vue&type=template&id=05bdb964&\"\nimport script from \"./AddShapeBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddShapeBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddShapeBar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpeedDial } from 'vuetify/lib/components/VSpeedDial';\ninstallComponents(component, {VBtn,VIcon,VSpeedDial})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Prop } from 'vue-property-decorator';\nimport { Observer } from 'mobx-vue';\nimport Canvas from './components/Canvas.vue';\nimport BottomBar from './components/BottomBar.vue';\nimport ZoomBar from './components/ZoomBar.vue';\nimport PreviewAndExportDialog from './components/PreviewAndExportDialog.vue';\nimport DocumentSettingDialog from './components/DocumentSettingDialog.vue';\nimport AddShapeBar from './components/AddShapeBar.vue';\n\n@Observer\n@Component({\n  name: 'app',\n  components: {\n    Canvas,\n    BottomBar,\n    ZoomBar,\n    PreviewAndExportDialog,\n    DocumentSettingDialog,\n    AddShapeBar,\n  },\n})\nexport default class App extends Vue {\n  private isSettingsDialogVisible = false;\n  private isPreviewAndExportDialogVisible = false;\n  private isExportingImages = false;\n  private previewImages: HTMLImageElement[] = [];\n\n  public mounted() {\n    this.onResize();\n  }\n\n  public onResize() {\n    const el = this.$refs.workarea as HTMLElement;\n    this.$store.canvas.containerWidth = el.offsetWidth;\n    this.$store.canvas.containerHeight = el.offsetHeight;\n  }\n\n  public onPreviewAndUpload(event: Event) {\n    event.preventDefault();\n    this.isExportingImages = true;\n    this.isPreviewAndExportDialogVisible = true;\n    const canvasRef = this.$refs.canvas as Canvas;\n    canvasRef.exportAllImages().then((images) => {\n      this.previewImages = images;\n      this.isExportingImages = false;\n    });\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=657dbf73&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VBtn,VContainer,VContent,VIcon,VToolbarTitle})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","import { action, computed, observable, toJS, observe } from 'mobx';\nimport Konva from 'konva';\n\ninterface Shape {\n  id: string;\n  name: string;\n  order: number;\n  x: number;\n  y: number;\n  rotation: number;\n  scaleX: number;\n  scaleY: number;\n  width: number;\n  height: number;\n  computedWidth: number;\n  computedHeight: number;\n  draggable: boolean;\n}\n\ninterface ImageShape extends Shape {\n  image: HTMLImageElement;\n}\n\ninterface TextShape extends Shape {\n  fontFamily?: string;\n  fontSize?: number;\n  fontStyle?: string;\n  fontVariant?: string;\n  text: string;\n}\n\ninterface Point {\n  x: number;\n  y: number;\n}\n\nexport class CanvasStore {\n\n  @computed\n  get aspectRatio() {\n    return this.rectangleLength / this.rectangleHeight;\n  }\n\n  @computed\n  get orderedShapes() {\n    return Object.values(this.shapes).sort((a, b) => {\n      return a.order - b.order;\n    });\n  }\n\n  @computed\n  get stageConfig() {\n    const stageWidth = this.rectangleLength * this.numberOfSlides;\n    const stageHeight = this.rectangleHeight;\n    let scale = 1;\n    if (this.currentScale === null) {\n      scale = this.centerScale;\n    } else {\n      scale = this.currentScale;\n    }\n\n    return {\n      height: stageHeight * scale,\n      width: stageWidth * scale,\n      scale: {\n        x: scale,\n        y: scale,\n      },\n    };\n  }\n\n  @computed\n  get backgroundRectConfig() {\n    return {\n      x: 0,\n      y: 0,\n      width: this.rectangleLength * this.numberOfSlides,\n      height: this.rectangleHeight,\n      fill: '#fff',\n    };\n  }\n\n  @computed\n  get wrapperStyles() {\n    return {\n      width: this.containerWidth + 'px',\n      height: this.containerHeight + 'px',\n      overflow: 'auto',\n    };\n  }\n\n  @computed\n  get centerScale() {\n    const stageWidth = this.rectangleLength * this.numberOfSlides;\n    const stageHeight = this.rectangleHeight;\n    const padding = Math.max(this.containerWidth * 0.1, 10);\n    const scaleX = (this.containerWidth - padding) / stageWidth;\n    const scaleY = (this.containerHeight - padding) / stageHeight;\n    return Math.min(scaleX, scaleY);\n  }\n\n  public static getInstance() {\n    if (!CanvasStore.instance) {\n      CanvasStore.instance = new CanvasStore();\n    }\n    return CanvasStore.instance;\n  }\n\n  private static instance: CanvasStore;\n\n  @observable\n  public shapes: { [key: string]: Shape } = {};\n\n  @observable\n  public selectedShape: Shape | null = null;\n\n  @observable\n  public numberOfSlides: number = 3;\n\n  @observable\n  public rectangleLength: number = 1080;\n\n  @observable\n  public rectangleHeight: number = 1080;\n\n  @observable\n  public containerWidth: number = 100;\n\n  @observable\n  public containerHeight: number = 100;\n\n  @observable\n  public currentScale: number | null = null;\n\n  @observable\n  public helperLinesVisible: boolean = true;\n\n  private scaleFactor = 0.01;\n\n  @action.bound\n  public zoomIn() {\n    if (this.currentScale) {\n      this.currentScale += this.scaleFactor;\n    } else {\n      this.currentScale = this.centerScale + this.scaleFactor;\n    }\n  }\n\n  @action.bound\n  public zoomOut() {\n    if (this.currentScale) {\n      this.currentScale -= this.scaleFactor;\n    } else {\n      this.currentScale = this.centerScale - this.scaleFactor;\n    }\n  }\n\n  @action.bound\n  public zoomCenter() {\n    this.currentScale = this.centerScale;\n  }\n\n  @action.bound\n  public addShape(shape: Shape | ImageShape | TextShape) {\n    shape.order = this.orderedShapes.length;\n    this.shapes[shape.id] = shape;\n  }\n\n  @action.bound\n  public updateX(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      this.shapes[shapeId].x = Math.round(value);\n    }\n  }\n\n  @action.bound\n  public updateY(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      this.shapes[shapeId].y = Math.round(value);\n    }\n  }\n\n  @action.bound\n  public updateScaleX(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      this.shapes[shapeId].scaleX = value;\n      this.shapes[shapeId].computedWidth = Math.round(this.shapes[shapeId].width * value);\n    }\n  }\n\n  @action.bound\n  public updateScaleY(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      this.shapes[shapeId].scaleY = value;\n      this.shapes[shapeId].computedHeight = Math.round(this.shapes[shapeId].height * value);\n    }\n  }\n\n  @action.bound\n  public updateWidth(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      this.shapes[shapeId].width = value;\n      this.shapes[shapeId].computedWidth = value;\n      this.shapes[shapeId].scaleX = 1;\n    }\n  }\n\n  @action.bound\n  public updateHeight(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      this.shapes[shapeId].width = value;\n    }\n  }\n\n  @action.bound\n  public updateRotation(shapeId: string, value: number, recalc: boolean) {\n    if (this.shapes[shapeId]) {\n      if (recalc) {\n        const shape = this.shapes[shapeId];\n        const topLeft = { x: - shape.computedWidth / 2, y: - shape.computedHeight / 2 };\n        // @ts-ignore\n        const current = this.rotatePoint(topLeft, Konva.getAngle(shape.rotation));\n        // @ts-ignore\n        const rotated = this.rotatePoint(topLeft, Konva.getAngle(value));\n        const dx = rotated.x - current.x;\n        const dy = rotated.y - current.y;\n\n        this.shapes[shapeId].x = shape.x + dx;\n        this.shapes[shapeId].y = shape.y + dy;\n      }\n      this.shapes[shapeId].rotation = value;\n    }\n  }\n\n  @action.bound\n  public rotateLeft(shapeId: string, recalc: boolean) {\n    this.rotateByAngle(shapeId, -90, recalc);\n  }\n\n  @action.bound\n  public rotateRight(shapeId: string, recalc: boolean) {\n    this.rotateByAngle(shapeId, +90, recalc);\n  }\n\n  @action.bound\n  public removeShapeById(shapeId: string) {\n    const currentOrder = this.shapes[shapeId].order;\n\n    delete this.shapes[shapeId];\n\n    Object.keys(this.shapes).forEach((itShapeId) => {\n      if (this.shapes[itShapeId].order > currentOrder) {\n        this.shapes[itShapeId].order--;\n      }\n    });\n  }\n\n  @action.bound\n  public moveShapeUp(shapeId: string) {\n    const currentOrder = this.shapes[shapeId].order;\n\n    if (currentOrder < this.orderedShapes.length - 1) {\n      Object.keys(this.shapes).forEach((itShapeId) => {\n        if (this.shapes[itShapeId].order === currentOrder + 1) {\n          this.shapes[itShapeId].order--;\n        }\n      });\n\n      this.shapes[shapeId].order++;\n    }\n  }\n\n  @action.bound\n  public moveShapeToTop(shapeId: string) {\n    const currentOrder = this.shapes[shapeId].order;\n\n    if (currentOrder < this.orderedShapes.length - 1) {\n      Object.keys(this.shapes).forEach((itShapeId) => {\n        if (this.shapes[itShapeId].order > currentOrder && itShapeId !== shapeId) {\n          this.shapes[itShapeId].order--;\n        } else if (itShapeId === shapeId) {\n          this.shapes[itShapeId].order = this.orderedShapes.length - 1;\n        }\n      });\n    }\n  }\n\n  @action.bound\n  public moveShapeDown(shapeId: string) {\n    const currentOrder = this.shapes[shapeId].order;\n\n    if (currentOrder > 0) {\n      Object.keys(this.shapes).forEach((itShapeId) => {\n        if (this.shapes[itShapeId].order === currentOrder - 1) {\n          this.shapes[itShapeId].order++;\n        }\n      });\n\n      this.shapes[shapeId].order--;\n    }\n  }\n\n  @action.bound\n  public moveShapeToBottom(shapeId: string) {\n    const currentOrder = this.shapes[shapeId].order;\n\n    if (currentOrder > 0) {\n      Object.keys(this.shapes).forEach((itShapeId) => {\n        if (this.shapes[itShapeId].order < currentOrder && itShapeId !== shapeId) {\n          this.shapes[itShapeId].order++;\n        } else if (itShapeId === shapeId) {\n          this.shapes[itShapeId].order = 0;\n        }\n      });\n    }\n  }\n\n  @action.bound\n  public setSelectedShapeId(shapeId: string | null) {\n    if (shapeId === null) {\n      this.selectedShape = null;\n    } else if (this.shapes[shapeId]) {\n      this.selectedShape = this.shapes[shapeId];\n    }\n  }\n\n  @action.bound\n  public positionShapeInCenter(shapeId: string) {\n    const slide = this.getCurrentSlideOfShape(shapeId);\n    const shape = this.shapes[shapeId];\n    const cx = (slide * this.rectangleLength) + (this.rectangleLength / 2);\n    const cy = (this.rectangleHeight / 2);\n    this.updateX(shapeId, cx - (shape.computedWidth / 2));\n    this.updateY(shapeId, cy - (shape.computedHeight / 2));\n  }\n\n  @action.bound\n  public positionShapeToLeft(shapeId: string) {\n    const slide = this.getCurrentSlideOfShape(shapeId);\n    this.updateX(shapeId, slide * this.rectangleLength);\n  }\n\n  @action.bound\n  public positionShapeToRight(shapeId: string) {\n    const slide = this.getCurrentSlideOfShape(shapeId);\n    const shape = this.shapes[shapeId];\n    this.updateX(shapeId, (slide * this.rectangleLength) + (this.rectangleLength - shape.computedWidth));\n  }\n\n  @action.bound\n  public positionShapeToTop(shapeId: string) {\n    this.updateY(shapeId, 0);\n  }\n\n  @action.bound\n  public positionShapeToBottom(shapeId: string) {\n    const shape = this.shapes[shapeId];\n    this.updateY(shapeId, (this.rectangleHeight - shape.computedHeight));\n  }\n\n  @action.bound\n  public updateFontSize(shapeId: string, value: number) {\n    if (this.shapes[shapeId]) {\n      (this.shapes[shapeId] as TextShape).fontSize = value;\n    }\n  }\n\n  @action.bound\n  public updateFontFamily(shapeId: string, value: string) {\n    if (this.shapes[shapeId]) {\n      (this.shapes[shapeId] as TextShape).fontFamily = value;\n    }\n  }\n\n  @action.bound\n  public updateText(shapeId: string, value: string) {\n    if (this.shapes[shapeId]) {\n      (this.shapes[shapeId] as TextShape).text = value;\n    }\n  }\n\n  private rotateByAngle(shapeId: string, angle: number, recalc: boolean) {\n    if (this.shapes[shapeId]) {\n      const shape = this.shapes[shapeId];\n      const currentRotation = shape.rotation;\n      this.updateRotation(shapeId, currentRotation + angle, recalc);\n    }\n  }\n\n  private getCurrentSlideOfShape(shapeId: string) {\n    const shape = this.shapes[shapeId];\n    const cx = shape.x + (shape.computedWidth / 2);\n\n    return Math.max(0, Math.min(Math.floor(cx / this.rectangleLength), this.numberOfSlides - 1));\n  }\n\n  private rotatePoint(point: Point, rad: number): Point {\n    const rcos = Math.cos(rad);\n    const rsin = Math.sin(rad);\n    return {\n      x: point.x * rcos - point.y * rsin,\n      y: point.y * rcos + point.x * rsin,\n    };\n  }\n}\n","import { action, computed, observable, toJS, observe } from 'mobx';\nimport WebFont from 'webfontloader';\n\nexport class FontFamilyStore {\n\n  public static getInstance() {\n    if (!FontFamilyStore.instance) {\n      FontFamilyStore.instance = new FontFamilyStore();\n    }\n    return FontFamilyStore.instance;\n  }\n\n  private static instance: FontFamilyStore;\n\n  public availableFonts: string[] = ['Arial', 'Roboto', 'Roboto Mono', 'Roboto Slab', 'Lobster', 'Permanent Marker', 'Indie Flower'];\n\n  private loadedFonts: string[] = [];\n\n  public loadFont(name: string) {\n    if (this.loadedFonts.includes(name) || name === 'Arial') {\n      return Promise.resolve();\n    } else {\n      return new Promise((resolve, reject) => {\n        WebFont.load({\n          active: () => {\n            this.loadedFonts.push(name);\n            resolve();\n          },\n          google: {\n            families: [name],\n          },\n        });\n      });\n\n    }\n\n  }\n}\n","import { action, computed, observable, toJS, observe } from 'mobx';\n\nexport class UiStore {\n\n  public static getInstance() {\n    if (!UiStore.instance) {\n        UiStore.instance = new UiStore();\n    }\n    return UiStore.instance;\n  }\n\n  private static instance: UiStore;\n\n  @observable\n  public isFormatTextDialogVisible: boolean = false;\n}\n","import { CanvasStore } from './CanvasStore';\nimport { FontFamilyStore } from './FontFamilyStore';\nimport { UiStore } from './UiStore';\n\nexport class Store {\n\n  public static getInstance() {\n    if (!Store.instance) {\n      Store.instance = new Store();\n    }\n    return Store.instance;\n  }\n\n  private static instance: Store;\n\n  public readonly canvas: CanvasStore = CanvasStore.getInstance();\n\n  public readonly fontFamily: FontFamilyStore = FontFamilyStore.getInstance();\n\n  public readonly ui: UiStore = UiStore.getInstance();\n}\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi',\n  },\n  theme: {\n    themes: {\n      light: {\n        primary: '#3F51B5',\n        accent:  '#FF5252',\n      },\n      dark: {\n        primary:   '#303F9F',\n      },\n/*primary-color-light:  '#C5CAE9',\nprimary-color-text:   '#FFFFFF',\n\nprimary-text-color:   '#212121',\nsecondary-text-color: '#757575',\ndivider-color:        '#BDBDBD',*/\n    },\n  },\n});\n","import Vue from 'vue';\nimport App from './App.vue';\nimport VueKonva from 'vue-konva';\nimport { Store } from './store';\nimport vuetify from './plugins/vuetify';\n\nVue.config.productionTip = false;\n\nVue.use(VueKonva);\n\nVue.prototype.$store = Store.getInstance();\n\nnew Vue({\n  vuetify,\n  render: (h) => h(App),\n}).$mount('#app');\n"],"sourceRoot":""}